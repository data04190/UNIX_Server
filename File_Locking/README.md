# 파일 및 레코드 잠금 (file and record locking)

<br>

### 파일 및 레코드 잠금
- 두 개 이상의 프로세스가 하나의 파일 혹은 레코드를 동시에 접근하지 못하도록 제어하는 것
- <b>파일 잠금(file locking)</b> 
  - 파일 전체 영역에 대해서만 잠금.
  - 여러 사용자가 한 파일에 동시에 접근할 경우 비효율적.
- <b>레코드 잠금(record locking)</b>
  - 파일 일부 영역에 대해서만 잠금.
  - 특정 영역만 레코드 잠금하면 나머지 부분은 다른 프로세스에서 동시에 접근가능하여 효율적.
<br>

### 파일 및 레코드 잠금의 필요성
- 한 프로세스가 파일 내용을 수정하는 동안 다른 프로세스가 접근할 경우 수정 전의 내용을 받아들여 데이터의 일관성이 없게 되는 문제점이 발생한다. 
- 두 프로세스가 하나의 파일에 동시에 접근하여 데이터를 저장하는 경우 수정 순서에 따라 데이터 저장 내용이 달라지게 된다. 
<br>
 
 ### 레코드 잠금 규칙
 - 파일 원하는 영역에 `읽기 잠금(Read Lock)` 또는 `쓰기 잠금(Write Lock)`을 할 수 있음.
 - `읽기 잠금`은 여러 프로세스가 공유할 수 있지만, `쓰기 잠금`은 공유할 수 없으며 한 프로세스만 가질 수 있음.
   
